name: "Product Requirements Document (PRD) Generation"
description: "Generate comprehensive Product Requirements Document from project description"
category: "generation"
version: "1.0.0"

# Define what inputs this template needs
inputs:
  - name: "project_description"
    type: "string"
    required: true
    description: "Initial project idea and description"
    
  - name: "project_name"
    type: "string"
    required: true
    description: "Name of the product/project"
    
  - name: "target_audience"
    type: "string"
    required: false
    default: "general users"
    description: "Primary target audience for the product"
    
  - name: "business_context"
    type: "string"
    required: false
    default: ""
    description: "Business context and market opportunity"
    
  - name: "constraints"
    type: "string"
    required: false
    default: ""
    description: "Known constraints and limitations"

# LLM configuration for multi-provider synthesis
llm_config:
  providers:
    - name: "claude"
      weight: 0.4
      model: "claude-3-opus-20240229"
    - name: "openai"
      weight: 0.35
      model: "gpt-4-turbo-preview"
    - name: "google"
      weight: 0.25
      model: "gemini-pro"
  
  temperature: 0.7
  max_tokens: 10000

# The actual prompt template
prompt:
  system: |
    You are an experienced Product Manager with expertise in creating comprehensive Product 
    Requirements Documents (PRDs). You excel at translating business needs into clear, 
    actionable product requirements that development teams can implement effectively.
    
    Your PRDs are:
    - Clear and unambiguous
    - Focused on user value and business outcomes
    - Technically feasible and well-scoped
    - Include success metrics and acceptance criteria
    - Consider edge cases and potential risks
    - Balance completeness with conciseness
  
  user: |
    Based on the project description for {{project_name}}, create a comprehensive Product 
    Requirements Document (PRD) that will guide the development team.
    
    <project_description>
    {{project_description}}
    </project_description>
    
    Target Audience: {{target_audience}}
    {% if business_context %}
    Business Context: {{business_context}}
    {% endif %}
    {% if constraints %}
    Known Constraints: {{constraints}}
    {% endif %}
    
    Generate a detailed PRD with the following structure:
    
    <prd>
    # {{project_name}} - Product Requirements Document
    
    ## 1. Executive Summary
    
    ### 1.1 Product Vision
    [Describe the overall vision and purpose of the product]
    
    ### 1.2 Problem Statement
    [Clearly articulate the problem this product solves]
    
    ### 1.3 Value Proposition
    [Explain the unique value this product provides]
    
    ### 1.4 Success Metrics
    [Define measurable success criteria with specific KPIs]
    - [Metric 1: Target value and measurement method]
    - [Metric 2: Target value and measurement method]
    - [Metric 3: Target value and measurement method]
    
    ## 2. Target Users and Personas
    
    ### 2.1 Primary Users
    [Detailed description of primary user segment]
    - Demographics: [Age, location, profession, etc.]
    - Goals: [What they want to achieve]
    - Pain Points: [Current frustrations and challenges]
    - Technical Proficiency: [Level of technical expertise]
    
    ### 2.2 User Personas
    [Create 2-3 detailed user personas]
    
    **Persona 1: [Name]**
    - Role: [Professional role or context]
    - Story: [Brief narrative about their situation]
    - Goals: [Specific goals with the product]
    - Frustrations: [Current pain points]
    - Success Scenario: [What success looks like for them]
    
    ### 2.3 User Journey Map
    [Map the user journey from problem recognition to solution adoption]
    1. Awareness: [How users discover the need]
    2. Consideration: [Evaluation process]
    3. Adoption: [Initial usage]
    4. Retention: [Continued engagement]
    5. Advocacy: [Becoming product champions]
    
    ## 3. Product Requirements
    
    ### 3.1 Functional Requirements
    
    #### 3.1.1 Core Features (MVP)
    [List essential features for initial release]
    
    **Feature 1: [Feature Name]**
    - Description: [Detailed description]
    - User Story: As a [user type], I want [goal] so that [benefit]
    - Acceptance Criteria:
      - [ ] [Specific testable criterion]
      - [ ] [Specific testable criterion]
    - Priority: P0 (Must Have)
    - Effort Estimate: [T-shirt size: S/M/L/XL]
    
    **Feature 2: [Feature Name]**
    [Continue pattern for all core features]
    
    #### 3.1.2 Secondary Features (Post-MVP)
    [Features for future iterations]
    
    ### 3.2 Non-Functional Requirements
    
    #### 3.2.1 Performance Requirements
    - Response Time: [Specific targets]
    - Throughput: [Transactions per second]
    - Scalability: [User/data growth targets]
    - Availability: [Uptime requirements]
    
    #### 3.2.2 Security Requirements
    - Authentication: [Method and requirements]
    - Authorization: [Access control model]
    - Data Protection: [Encryption standards]
    - Compliance: [Regulatory requirements]
    
    #### 3.2.3 Usability Requirements
    - Accessibility: [WCAG compliance level]
    - Browser Support: [Minimum versions]
    - Mobile Responsiveness: [Device support]
    - Localization: [Language requirements]
    
    ## 4. User Interface Requirements
    
    ### 4.1 Design Principles
    [Key design principles to follow]
    - [Principle 1: Description]
    - [Principle 2: Description]
    
    ### 4.2 Key Screens and Workflows
    [Describe main screens and user flows]
    
    **Screen 1: [Screen Name]**
    - Purpose: [What this screen accomplishes]
    - Key Elements: [Important UI elements]
    - User Actions: [Available interactions]
    - Navigation: [Where users can go from here]
    
    ### 4.3 Information Architecture
    [High-level structure and navigation]
    
    ## 5. Technical Requirements
    
    ### 5.1 Architecture Overview
    [High-level technical architecture]
    - Frontend: [Technology stack]
    - Backend: [Technology stack]
    - Database: [Data storage approach]
    - Infrastructure: [Deployment environment]
    
    ### 5.2 Integration Requirements
    [External systems and APIs]
    - [System 1: Purpose and integration method]
    - [System 2: Purpose and integration method]
    
    ### 5.3 Data Requirements
    - Data Models: [Key entities and relationships]
    - Storage Requirements: [Estimated data volumes]
    - Retention Policies: [Data lifecycle]
    - Privacy Considerations: [PII handling]
    
    ## 6. Constraints and Assumptions
    
    ### 6.1 Constraints
    - Technical: [Platform or technology limitations]
    - Business: [Budget, timeline, resources]
    - Regulatory: [Compliance requirements]
    - Operational: [Deployment or support limitations]
    
    ### 6.2 Assumptions
    [List key assumptions made in creating this PRD]
    - [Assumption 1]
    - [Assumption 2]
    
    ### 6.3 Dependencies
    [External dependencies that could impact delivery]
    - [Dependency 1: Impact and mitigation]
    - [Dependency 2: Impact and mitigation]
    
    ## 7. Release Strategy
    
    ### 7.1 MVP Scope
    [Clearly define what's in the MVP]
    - Must Have: [P0 features]
    - Nice to Have: [P1 features if time permits]
    - Out of Scope: [Explicitly excluded from MVP]
    
    ### 7.2 Phased Rollout Plan
    - Phase 1 (MVP): [Timeline and features]
    - Phase 2: [Timeline and features]
    - Phase 3: [Timeline and features]
    
    ### 7.3 Go-to-Market Strategy
    - Launch Strategy: [Soft launch, beta, full launch]
    - Marketing Approach: [Key messaging and channels]
    - Success Criteria: [Launch success metrics]
    
    ## 8. Risk Analysis
    
    | Risk | Probability | Impact | Mitigation Strategy | Owner |
    |------|------------|--------|-------------------|--------|
    | [Risk 1] | High/Med/Low | High/Med/Low | [Strategy] | [Team] |
    | [Risk 2] | High/Med/Low | High/Med/Low | [Strategy] | [Team] |
    
    ## 9. Success Metrics and KPIs
    
    ### 9.1 Business Metrics
    - [Metric 1: Target and measurement]
    - [Metric 2: Target and measurement]
    
    ### 9.2 Product Metrics
    - Adoption: [User acquisition targets]
    - Engagement: [Usage frequency targets]
    - Retention: [Churn rate targets]
    - Satisfaction: [NPS or CSAT targets]
    
    ### 9.3 Technical Metrics
    - Performance: [Speed and reliability targets]
    - Quality: [Defect rate targets]
    - Efficiency: [Resource utilization targets]
    
    ## 10. Open Questions
    [List questions that need answers before implementation]
    - [ ] [Question 1]
    - [ ] [Question 2]
    
    ## Appendix
    
    ### A. Glossary
    [Define key terms and acronyms]
    
    ### B. References
    [Links to related documents, research, or resources]
    
    ### C. Revision History
    - Version 1.0: Initial PRD - [Date]
    
    </prd>
    
    <priority_matrix>
    Create a feature priority matrix:
    - P0 (Must Have): Features essential for launch
    - P1 (Should Have): Important but not blocking
    - P2 (Nice to Have): Desirable enhancements
    - P3 (Future): Long-term vision items
    </priority_matrix>
    
    <competitive_analysis>
    Brief competitive analysis:
    - Key competitors and their offerings
    - Our differentiation
    - Market opportunity
    </competitive_analysis>

# Output processing configuration
output:
  format: "structured"
  sections:
    - name: "prd"
      type: "document"
      extract_tag: "prd"
      save_as: "prd.md"
      
    - name: "priority_matrix"
      type: "analysis"
      extract_tag: "priority_matrix"
      
    - name: "competitive_analysis"
      type: "analysis"
      extract_tag: "competitive_analysis"

# MIAIR optimization settings
miair_config:
  enabled: true
  target_quality: 0.9
  max_iterations: 3
  focus_areas:
    - "completeness"
    - "clarity"
    - "feasibility"
    - "user_focus"