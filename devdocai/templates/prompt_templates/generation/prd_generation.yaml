name: "Product Requirements Document (PRD) Generation"
description: "Generate comprehensive Product Requirements Document from project description"
category: "generation"
version: "1.0.0"

# Define what inputs this template needs
inputs:
  - name: "project_description"
    type: "string"
    required: true
    description: "Initial project idea and description"
    
  - name: "project_name"
    type: "string"
    required: true
    description: "Name of the product/project"
    
  - name: "target_audience"
    type: "string"
    required: false
    default: "general users"
    description: "Primary target audience for the product"
    
  - name: "business_context"
    type: "string"
    required: false
    default: ""
    description: "Business context and market opportunity"
    
  - name: "constraints"
    type: "string"
    required: false
    default: ""
    description: "Known constraints and limitations"

# LLM configuration for multi-provider synthesis
llm_config:
  providers:
    - name: "claude"
      weight: 0.4
      model: "claude-3-opus-20240229"
    - name: "openai"
      weight: 0.35
      model: "gpt-4-turbo-preview"
    - name: "google"
      weight: 0.25
      model: "gemini-pro"
  
  temperature: 0.7
  max_tokens: 10000

# The actual prompt template
prompt:
  system: |
    You are an expert Product Manager who creates comprehensive, contextual Product Requirements Documents (PRDs). 
    You excel at analyzing project descriptions and user stories to understand the domain, stakeholders, and business 
    objectives, then generating highly relevant, project-specific PRDs.

    Your approach is:
    1. ANALYZE FIRST: Understand the project type, domain, industry, and specific context
    2. EXTRACT INSIGHTS: Identify real users, pain points, and business goals from the input
    3. GENERATE CONTEXTUALLY: Create content that reflects the actual project, not generic examples
    4. NO PLACEHOLDERS: Every section contains real, actionable content specific to this project
    5. DOMAIN EXPERTISE: Apply appropriate industry knowledge based on the project type identified
  
  user: |
    CRITICAL INSTRUCTION: Analyze the following project description thoroughly to understand what type of product this is, 
    what industry it serves, who the real users are, and what specific problems it solves. Then create a PRD that is 
    completely tailored to this specific project.

    <project_description>
    {{project_description}}
    </project_description>
    
    Target Audience: {{target_audience}}
    {% if business_context %}
    Business Context: {{business_context}}
    {% endif %}
    {% if constraints %}
    Known Constraints: {{constraints}}
    {% endif %}
    
    FIRST, analyze this input to understand:
    - What type of product/project is this? (e.g., restaurant website, mobile app, SaaS platform, etc.)
    - What industry or domain does it serve?
    - Who are the actual users mentioned in the description?
    - What specific problems or needs does it address?
    - What features or capabilities are mentioned or implied?
    
    THEN, create a comprehensive PRD that is 100% specific to this project. Do NOT use generic examples or placeholders. 
    Every persona, feature, metric, and requirement should be directly relevant to the actual project described.
    
    <prd>
    # {{project_name}} - Product Requirements Document
    
    ## 1. Executive Summary
    
    ### 1.1 Product Vision
    Based on your analysis of this specific project, write a compelling vision statement that captures the unique purpose and long-term impact this product will have in its identified industry and market context.
    
    ### 1.2 Problem Statement
    Clearly articulate the specific problems this project solves for its identified users. Reference the actual pain points and challenges mentioned in the project description, and explain why current solutions in this domain are inadequate.
    
    ### 1.3 Value Proposition
    Define the unique value this specific product provides to its identified user base. Explain what makes it different from existing alternatives in this market space and why the target users would choose this solution over others.
    
    ### 1.4 Success Metrics
    Define measurable KPIs relevant to this project's domain and user base:
    - User Adoption: Set realistic targets based on the identified market size and user type
    - Engagement Metrics: Define usage patterns appropriate for this type of product
    - Business Impact: Specify revenue, efficiency, or value creation metrics relevant to this industry
    
    ## 2. Target Users and Personas
    
    ### 2.1 Primary Users
    Based on your analysis, describe the primary user segment for this specific project:
    - Demographics: Detail the actual characteristics of users who would need this solution
    - Goals: Specify what these users are trying to accomplish that led to this project
    - Pain Points: Describe the frustrations and challenges these specific users currently face
    - Technical Proficiency: Assess the appropriate level for this project's target audience
    
    ### 2.2 User Personas
    Create 2-3 detailed personas based on the actual users who would benefit from this specific project:
    
    **Primary Persona: [Create realistic name and title]**
    - Role: Define their actual role or context relevant to this project
    - Background: Write their story explaining why they need this solution
    - Goals: List specific objectives they want to achieve with this product
    - Frustrations: Describe their current challenges that this project addresses
    - Success Scenario: Explain how this product transforms their experience
    
    Create additional personas as needed based on the project's actual user base.
    
    ### 2.3 User Journey Map
    Map the user journey specific to this project's context:
    1. Problem Recognition: How users realize they need this type of solution
    2. Solution Research: How they would discover and evaluate this product
    3. Initial Usage: Their first experience with this specific solution
    4. Regular Usage: How they integrate this product into their workflow
    5. Value Realization: How they achieve their goals and become advocates
    
    ## 3. Product Requirements
    
    ### 3.1 Functional Requirements
    
    #### 3.1.1 Core Features (MVP)
    Based on your analysis of the project description, identify and detail the essential features:
    
    **[Name the first core feature identified from the project context]**
    - Purpose: Explain why this feature is essential for this specific project
    - User Story: As a [specific user type], I want [specific functionality] so that [specific benefit]
    - Acceptance Criteria: Define testable criteria relevant to this feature's purpose
    - Priority: P0 (Must Have for initial release)
    - Complexity: Estimate based on the feature's scope and technical requirements
    
    Continue this pattern for each core feature identified from the project analysis.
    
    #### 3.1.2 Secondary Features (Future Releases)
    Based on the project vision, identify features for subsequent iterations that would enhance the core value proposition.
    
    ### 3.2 Non-Functional Requirements
    
    #### 3.2.1 Performance Requirements
    Define performance targets appropriate for this project's scale and user expectations:
    - Response Time: Set targets based on user interaction patterns for this type of product
    - Throughput: Define capacity requirements based on expected user volume and usage patterns
    - Scalability: Specify growth targets relevant to this project's market potential
    - Availability: Set uptime requirements appropriate for this product's criticality to users
    
    #### 3.2.2 Security Requirements
    Define security measures appropriate for this project's data sensitivity and user trust requirements:
    - Authentication: Specify methods suitable for this user base and use case
    - Authorization: Design access controls appropriate for this product's user roles
    - Data Protection: Define encryption and security measures for the data this product handles
    - Compliance: Identify regulatory requirements relevant to this industry and user base
    
    #### 3.2.3 Usability Requirements
    Define usability standards appropriate for this project's users and context:
    - Accessibility: Set compliance levels appropriate for this user base
    - Platform Support: Define device and browser requirements for this product's users
    - Mobile Experience: Specify mobile requirements based on how users would access this product
    - Internationalization: Define language and regional requirements for this market
    
    ## 4. User Interface Requirements
    
    ### 4.1 Design Principles
    Based on the project analysis, define design principles that support this product's goals and user needs:
    - Primary Principle: Define the most important design consideration for this specific product
    - Secondary Principles: List additional design considerations that support the user experience
    
    ### 4.2 Key Screens and Workflows
    Based on the identified features and user journey, describe the main interface elements:
    
    **Primary Interface: [Name based on project analysis]**
    - Purpose: Explain how this interface serves the project's main user goals
    - Key Elements: Describe essential UI components based on identified user needs
    - User Actions: Detail interactions that support the project's core functionality
    - Navigation: Explain how users move through the system to accomplish their goals
    
    Continue for each major interface identified from the feature analysis.
    
    ### 4.3 Information Architecture
    Design the structure and navigation based on how users would naturally approach this specific product and its functionality.
    
    ## 5. Technical Requirements
    
    ### 5.1 Architecture Overview
    Define technical architecture appropriate for this project's requirements and constraints:
    - Client Layer: Specify frontend technology suited to the user interface requirements
    - Server Layer: Define backend architecture based on the functional requirements
    - Data Layer: Choose data storage approach suited to this product's data patterns
    - Infrastructure: Specify deployment architecture appropriate for the scale and requirements
    
    ### 5.2 Integration Requirements
    Based on project analysis, identify necessary external integrations:
    - List each external system or service this product would need to integrate with
    - Explain the purpose and method of each integration
    
    ### 5.3 Data Requirements
    Define data needs specific to this project:
    - Data Models: Identify key entities and relationships based on the product functionality
    - Storage Requirements: Estimate data volumes based on expected usage patterns
    - Data Lifecycle: Define retention and archival policies appropriate for this product
    - Privacy Requirements: Address data protection needs based on the user base and regulations
    
    ## 6. Constraints and Assumptions
    
    ### 6.1 Constraints
    Based on the project analysis, identify relevant constraints:
    - Technical: Specify platform or technology limitations based on the project requirements
    - Business: Address budget, timeline, or resource constraints mentioned in the project context
    - Regulatory: Identify compliance requirements relevant to this industry or user base
    - Operational: Consider deployment or support limitations based on the project scope
    
    ### 6.2 Assumptions
    List key assumptions made in creating this PRD based on the project analysis:
    - Document assumptions about user behavior specific to this project
    - Note assumptions about market conditions or competitive landscape
    - State assumptions about technical feasibility or resource availability
    
    ### 6.3 Dependencies
    Identify external dependencies that could impact delivery of this specific project:
    - Technical dependencies: Third-party services, APIs, or platforms this product requires
    - Business dependencies: Partnerships, agreements, or approvals needed
    - Resource dependencies: Expertise, tools, or infrastructure requirements
    
    ## 7. Release Strategy
    
    ### 7.1 MVP Scope
    Based on the feature analysis, clearly define what's included in the first release:
    - Must Have: Core features essential for solving the primary user problem
    - Should Have: Important features that enhance the value proposition
    - Could Have: Nice-to-have features if resources permit
    - Won't Have: Features explicitly excluded from this release
    
    ### 7.2 Phased Rollout Plan
    Design a rollout plan appropriate for this product and user base:
    - Phase 1 (MVP): Define timeline and feature set for initial launch
    - Phase 2: Plan subsequent iterations based on user feedback and market response
    - Phase 3: Outline longer-term enhancements that support the product vision
    
    ### 7.3 Go-to-Market Strategy
    Develop launch approach suitable for this product's market and users:
    - Launch Strategy: Define rollout approach appropriate for this user base
    - Marketing Approach: Identify messaging and channels that reach the target users
    - Success Criteria: Set launch metrics that align with the product goals
    
    ## 8. Risk Analysis
    
    Identify and assess risks specific to this project:
    
    | Risk Category | Specific Risk | Probability | Impact | Mitigation Strategy |
    |---------------|---------------|-------------|---------|-------------------|
    | Technical | [Risk based on project analysis] | [H/M/L] | [H/M/L] | [Specific mitigation] |
    | Market | [Risk based on user/market analysis] | [H/M/L] | [H/M/L] | [Specific mitigation] |
    | Operational | [Risk based on project constraints] | [H/M/L] | [H/M/L] | [Specific mitigation] |
    
    ## 9. Success Metrics and KPIs
    
    ### 9.1 Business Metrics
    Define business success measures relevant to this project:
    - Primary Business Metric: The most important measure of business success for this product
    - Secondary Metrics: Additional business measures that indicate product health
    
    ### 9.2 Product Metrics
    Set product success measures appropriate for this user base and use case:
    - Adoption: User acquisition targets realistic for this market
    - Engagement: Usage patterns that indicate value realization
    - Retention: User retention rates appropriate for this product type
    - Satisfaction: User satisfaction measures relevant to this product experience
    
    ### 9.3 Technical Metrics
    Define technical success measures appropriate for this product:
    - Performance: Speed and reliability targets that support user experience goals
    - Quality: Reliability and defect rate targets appropriate for this product
    - Scalability: Growth capacity targets based on expected demand
    
    ## 10. Next Steps and Open Questions
    
    Based on this analysis, identify what needs to be clarified or decided:
    - Critical decisions required before development can begin
    - Research or validation needed to confirm assumptions
    - Stakeholder alignment required on key aspects of the product
    
    ## Appendix
    
    ### A. Glossary
    Define key terms and acronyms specific to this project and industry domain.
    
    ### B. Research and References
    Document sources of information used in this analysis and additional resources for the development team.
    
    ### C. Revision History
    - Version 1.0: Initial PRD based on project analysis - [Current Date]
    
    </prd>
    
    <priority_matrix>
    Create a feature priority matrix:
    - P0 (Must Have): Features essential for launch
    - P1 (Should Have): Important but not blocking
    - P2 (Nice to Have): Desirable enhancements
    - P3 (Future): Long-term vision items
    </priority_matrix>
    
    <competitive_analysis>
    Brief competitive analysis:
    - Key competitors and their offerings
    - Our differentiation
    - Market opportunity
    </competitive_analysis>

# Output processing configuration
output:
  format: "structured"
  sections:
    - name: "prd"
      type: "document"
      extract_tag: "prd"
      save_as: "prd.md"
      
    - name: "priority_matrix"
      type: "analysis"
      extract_tag: "priority_matrix"
      
    - name: "competitive_analysis"
      type: "analysis"
      extract_tag: "competitive_analysis"

# MIAIR optimization settings
miair_config:
  enabled: true
  target_quality: 0.9
  max_iterations: 3
  focus_areas:
    - "completeness"
    - "clarity"
    - "feasibility"
    - "user_focus"