name: "Project Plan Generation"
description: "Generate comprehensive project plan based on user stories"
category: "generation"
version: "1.0.0"

# Define what inputs this template needs
inputs:
  - name: "user_stories"
    type: "document"
    required: true
    description: "Generated user stories document"
    
  - name: "initial_description"
    type: "string"
    required: true
    description: "Original project description"
    
  - name: "project_name"
    type: "string"
    required: false
    default: "Project"
    description: "Name of the project"
    
  - name: "team_size"
    type: "string"
    required: false
    default: "small team (3-5 developers)"
    description: "Size and composition of development team"
    
  - name: "methodology"
    type: "string"
    required: false
    default: "Agile/Scrum"
    description: "Development methodology to follow"

# LLM configuration for multi-provider synthesis
llm_config:
  providers:
    - name: "openai"
      weight: 0.4
      model: "gpt-4-turbo-preview"
    - name: "claude"
      weight: 0.35
      model: "claude-3-opus-20240229"
    - name: "google"
      weight: 0.25
      model: "gemini-pro"
  
  temperature: 0.7
  max_tokens: 8000

# The actual prompt template
prompt:
  system: |
    You are an experienced Project Manager and Agile Coach with expertise in 
    software project planning, resource allocation, and risk management. You excel 
    at creating realistic, actionable project plans that balance scope, time, and 
    resources while accounting for common software development challenges.
    
    Your project plans are:
    - Comprehensive yet concise
    - Risk-aware with mitigation strategies
    - Aligned with modern software development practices
    - Focused on incremental delivery and value creation
    - Include clear milestones and success criteria
  
  user: |
    Based on the user stories and project description for {{project_name}}, create a 
    comprehensive project plan that will guide the development team to successful delivery.
    
    <user_stories>
    {{user_stories}}
    </user_stories>
    
    <project_description>
    {{initial_description}}
    </project_description>
    
    Team Composition: {{team_size}}
    Methodology: {{methodology}}
    
    Generate a detailed project plan with the following components:
    
    <project_plan>
    # {{project_name}} - Project Plan
    
    ## 1. Executive Summary
    [Provide a high-level overview of the project, its goals, and expected outcomes]
    
    ## 2. Project Scope
    ### In Scope
    [List what is included]
    
    ### Out of Scope
    [List what is explicitly excluded]
    
    ### Assumptions
    [Key assumptions made in planning]
    
    ### Constraints
    [Known limitations and constraints]
    
    ## 3. Development Phases
    
    ### Phase 1: Foundation (Sprint 1-X)
    **Duration:** [timeframe]
    **Goals:** [specific objectives]
    **Deliverables:**
    - [Deliverable 1]
    - [Deliverable 2]
    **User Stories:** [US-XXX, US-YYY]
    **Success Criteria:** [measurable outcomes]
    
    ### Phase 2: Core Features (Sprint X-Y)
    [Continue pattern for all phases]
    
    ## 4. Resource Plan
    
    ### Team Structure
    - **Development Team:** [roles and responsibilities]
    - **QA/Testing:** [approach and allocation]
    - **DevOps/Infrastructure:** [needs and allocation]
    
    ### Technology Stack
    - **Frontend:** [recommended technologies]
    - **Backend:** [recommended technologies]
    - **Database:** [recommended solution]
    - **Infrastructure:** [deployment approach]
    
    ## 5. Timeline and Milestones
    
    | Milestone | Target Date | Deliverables | Success Criteria |
    |-----------|------------|--------------|------------------|
    | M1: [Name] | [Date] | [Items] | [Criteria] |
    | M2: [Name] | [Date] | [Items] | [Criteria] |
    
    ## 6. Risk Management
    
    ### Identified Risks
    
    | Risk | Probability | Impact | Mitigation Strategy | Contingency Plan |
    |------|------------|--------|-------------------|------------------|
    | [Risk 1] | High/Med/Low | High/Med/Low | [Strategy] | [Plan] |
    
    ## 7. Quality Assurance Plan
    
    ### Testing Strategy
    - **Unit Testing:** [approach and coverage targets]
    - **Integration Testing:** [approach]
    - **User Acceptance Testing:** [process]
    
    ### Code Quality Standards
    - [Standard 1]
    - [Standard 2]
    
    ## 8. Communication Plan
    
    ### Meetings and Ceremonies
    - **Daily Standups:** [frequency and format]
    - **Sprint Planning:** [schedule]
    - **Sprint Reviews:** [schedule]
    - **Retrospectives:** [schedule]
    
    ### Stakeholder Communication
    - **Status Reports:** [frequency and format]
    - **Escalation Path:** [process]
    
    ## 9. Success Metrics
    
    ### Project KPIs
    - **Velocity:** [target]
    - **Defect Rate:** [acceptable range]
    - **Code Coverage:** [target percentage]
    - **Customer Satisfaction:** [measurement approach]
    
    ## 10. Dependencies and Integration Points
    [List external dependencies and integration requirements]
    
    </project_plan>
    
    <critical_path>
    Identify the critical path through the project:
    - Key dependencies between phases
    - Bottlenecks and constraints
    - Minimum viable timeline
    </critical_path>
    
    <budget_estimate>
    Provide a rough order of magnitude estimate:
    - Development effort (person-months)
    - Infrastructure costs
    - Tool and license costs
    - Total estimated budget range
    </budget_estimate>

# Output processing configuration
output:
  format: "structured"
  sections:
    - name: "project_plan"
      type: "document"
      extract_tag: "project_plan"
      save_as: "project_plan.md"
      
    - name: "critical_path"
      type: "analysis"
      extract_tag: "critical_path"
      
    - name: "budget_estimate"
      type: "analysis"
      extract_tag: "budget_estimate"

# MIAIR optimization settings
miair_config:
  enabled: true
  target_quality: 0.85
  max_iterations: 3
  focus_areas:
    - "completeness"
    - "feasibility"
    - "risk_coverage"
    - "clarity"